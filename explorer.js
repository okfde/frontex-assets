var k=Object.defineProperty;var v=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var x=(e,a,t)=>a in e?k(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,S=(e,a)=>{for(var t in a||(a={}))E.call(a,t)&&x(e,t,a[t]);if(v)for(var t of v(a))T.call(a,t)&&x(e,t,a[t]);return e};import{e as M,a as I,h as r}from"./vendor.js";import{a as b,i as s,c as q,g as w,l as C,b as j,d as A,e as D,f as H,p as B,h as F,j as $,s as G}from"./data.js";function N(e,a,t){const c=b[a.code].map(n=>({index:n.year,value:n[t]})).sort((n,u)=>n.year-u.year),l=b[a.code].map(n=>n.year),d={labelColor:"var(--gray-600)",gridColor:"var(--gray-100)",domainColor:"transparent",tickColor:"var(--gray-200)",tickCount:2},f={width:"container",config:{view:{continuousWidth:400,continuousHeight:80},line:{point:!0}},layer:[{mark:{type:"line",interpolate:"linear"},encoding:{color:{value:"var(--blue-30)"},x:{axis:S({format:""},d),field:"index",scale:{domain:[Math.min(...l),Math.max(...l)]},title:"",type:"quantitative"},y:{field:"value",type:"quantitative",title:"",axis:d},tooltip:[{field:"value",title:s("groups",t,"title")}]}}],data:{name:"data",values:c},$schema:"https://vega.github.io/schema/vega-lite/v5.2.0.json"};M(e,f,{ast:!0,expr:I,renderer:"svg",actions:!1})}let m;function L(e){var u,h,g;const a=document.querySelector("#fx-country-selector"),t=document.querySelector("#fx-stats"),c=document.querySelector("#fx-hint"),l=document.querySelector("#fx-explorer-modal");a.innerText=w(e),c.innerText=s("description"),(u=e.hint)!=null&&u[C]&&(c.innerHTML+=`<br>${e.hint[C]}`),t.innerHTML="";const d=j[e.code],{sortedGroups:f}=A(e);for(const[o,p]of f){const i=d[o];if(i===0)continue;const y=r("div",{class:"row mb-3"},r("div",{class:"col-12 col-md-6 order-md-2 fx-chart"}),r("div",{class:"text-nowrap col-12 col-md-6 d-flex flex-column justify-content-center my-3"},r("div",null,r("span",{class:"h3"},D(i))," ",s("groups",o,"title")," ",s("stats","providedInTotal"),H(o,l)),r("span",{class:"text-gray-700 mt-1"},B(p)," ",s("stats","ofAll"))));N(y.querySelector(".fx-chart"),e,o),t.appendChild(y)}document.querySelector("#fx-attribution").innerText=s("attribution");const n=document.querySelector("#fx-download-png");if(n){const o=F(e);n.setAttribute("href",o),m&&n.removeEventListener("click",m),m=async p=>{p.preventDefault();const i=()=>window.open(o);await G(e).catch(i)||i()},n.addEventListener("click",m),$&&((h=n.querySelector("i"))==null||h.setAttribute("class","fa fa-share-alt"))}(g=window.BSN)==null||g.initCallback()}function O(){const e=document.querySelector("#fx-country-selector");for(const a of q){const t=document.createElement("a");t.classList.add("dropdown-item"),t.href="#!",t.innerText=w(a),t.addEventListener("click",()=>L(a)),e.nextElementSibling.appendChild(t)}}document.addEventListener("DOMContentLoaded",()=>{O(),L(q.find(e=>e.code==="DE"))});
